<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Informe de Asistencia Técnica</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body { font-family: Arial; margin: 40px; }
    label, textarea, input { display: block; width: 100%; margin: 10px 0; }
    textarea { height: 80px; }
    button { padding: 10px 20px; margin-top: 20px; }
  </style>
</head>
<body>
  <h2>Generador de Informe de Asistencia</h2>
  <form id="formInforme">
    <label>Fecha:</label>
    <input type="date" id="fecha" required>

    <label>Hospital:</label>
    <input type="text" id="hospital" required>

    <label>Ciudad:</label>
    <input type="text" id="ciudad" required>

    <label>Marca:</label>
    <input type="text" id="marca">

    <label>Modelo:</label>
    <input type="text" id="modelo">

    <label>Serie:</label>
    <input type="text" id="serie">

    <label>Descripción del problema:</label>
    <textarea id="descripcion"></textarea>

    <label>Observaciones:</label>
    <textarea id="observaciones"></textarea>

    <label>Recomendaciones:</label>
    <textarea id="recomendaciones"></textarea>

    <label>Nombre del técnico:</label>
    <input type="text" id="tecnico" required>

    <button type="button" onclick="generarPDF()">Descargar Informe PDF</button>
  </form>

  <script>
    async function generarPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      const fecha = document.getElementById("fecha").value;
      const hospital = document.getElementById("hospital").value;
      const ciudad = document.getElementById("ciudad").value;
      const marca = document.getElementById("marca").value;
      const modelo = document.getElementById("modelo").value;
      const serie = document.getElementById("serie").value;
      const descripcion = document.getElementById("descripcion").value;
      const observaciones = document.getElementById("observaciones").value;
      const recomendaciones = document.getElementById("recomendaciones").value;
      const tecnico = document.getElementById("tecnico").value;

      let y = 10;
      doc.setFont("helvetica", "normal");
      doc.text(`Guayaquil, ${fecha}`, 10, y); y += 10;
      doc.text("SEÑORES", 10, y); y += 10;
      doc.text(hospital.toUpperCase(), 10, y); y += 10;
      doc.text(`${ciudad.toUpperCase()} –`, 10, y); y += 10;

      y += 10;
      doc.text("INFORME DE ASISTENCIA TÉCNICA", 10, y); y += 10;

      y += 10;
      doc.text("Detalles del equipo revisado:", 10, y); y += 10;
      doc.text(`Marca: ${marca}`, 10, y); y += 10;
      doc.text(`Modelo: ${modelo}`, 10, y); y += 10;
      doc.text(`Serie: ${serie}`, 10, y); y += 10;

      y += 10;
      doc.text("Descripción del problema:", 10, y); y += 10;
      doc.text(doc.splitTextToSize(descripcion, 180), 10, y); y += 10 + (descripcion.length / 80) * 10;

      doc.text("Observaciones:", 10, y); y += 10;
      doc.text(doc.splitTextToSize(observaciones, 180), 10, y); y += 10 + (observaciones.length / 80) * 10;

      doc.text("Recomendaciones:", 10, y); y += 10;
      doc.text(doc.splitTextToSize(recomendaciones, 180), 10, y); y += 10 + (recomendaciones.length / 80) * 10;

      y += 10;
      doc.text("ATENTAMENTE,", 10, y); y += 20;
      doc.text(tecnico, 10, y);

      doc.save("informe_asistencia.pdf");
    }
  </script>
</body>
</html>

